# 剪切板页面新功能

## 🎉 新增功能

### 1. 显示行数
- ✅ 在文本编辑器左侧显示行号
- ✅ 行号与文本内容同步滚动
- ✅ 可以通过按钮切换显示/隐藏行号
- ✅ 响应式设计，在小屏幕上自动优化

### 2. Markdown 格式支持
- ✅ 实时 Markdown 预览
- ✅ 支持 GitHub Flavored Markdown (GFM)
- ✅ 代码语法高亮
- ✅ 三种视图模式：
  - **编辑模式**：纯文本编辑
  - **预览模式**：Markdown 渲染预览
  - **分屏模式**：编辑和预览同时显示

### 3. 增强的用户体验
- ✅ 深色模式支持的语法高亮
- ✅ 自适应布局（桌面端分屏，移动端堆叠）
- ✅ 保持原有的自动保存功能
- ✅ 保持原有的快捷键支持 (Ctrl+S)

## 🛠️ 技术实现

### 依赖包
```json
{
  "react-markdown": "^9.0.1",
  "remark-gfm": "^4.0.0", 
  "rehype-highlight": "^7.0.0",
  "rehype-raw": "^7.0.0"
}
```

### 核心组件
- `EnhancedTextEditor.tsx` - 增强版文本编辑器
- `LazyTextEditor.tsx` - 懒加载包装器（已更新）
- `highlight.css` - 自定义语法高亮样式

### 主要特性
1. **行号显示**
   - 动态计算行数
   - 滚动同步
   - 可切换显示

2. **Markdown 支持**
   - GitHub Flavored Markdown
   - 代码块语法高亮
   - 表格、任务列表等扩展语法

3. **视图模式**
   - 编辑模式：专注写作
   - 预览模式：查看渲染效果
   - 分屏模式：同时编辑和预览

## 📱 响应式设计

- **桌面端 (≥1024px)**：分屏模式显示为左右分栏
- **平板端 (768px-1023px)**：分屏模式显示为左右分栏
- **移动端 (<768px)**：分屏模式显示为上下堆叠

## 🎨 样式优化

- 深色模式下的语法高亮适配
- 更好的对比度和可读性
- 与现有设计系统保持一致
- 平滑的过渡动画

## 🚀 使用方法

1. 打开任意剪切板页面
2. 在编辑器顶部选择视图模式：
   - 点击"编辑"进入纯文本编辑模式
   - 点击"预览"查看 Markdown 渲染效果
   - 点击"分屏"同时显示编辑和预览
3. 在编辑模式下，点击"显示行号"/"隐藏行号"切换行号显示
4. 输入 Markdown 内容，实时查看预览效果

## 📝 Markdown 示例

```markdown
# 标题 1
## 标题 2

**粗体文本** 和 *斜体文本*

- 无序列表项 1
- 无序列表项 2

1. 有序列表项 1
2. 有序列表项 2

`行内代码`

\`\`\`javascript
// 代码块
function hello() {
  console.log("Hello, World!");
}
\`\`\`

| 表格 | 列 1 | 列 2 |
|------|------|------|
| 行 1 | 数据 | 数据 |
| 行 2 | 数据 | 数据 |

- [ ] 待办事项 1
- [x] 已完成事项
```

## 🔧 配置说明

所有新功能都是开箱即用的，无需额外配置。原有的自动保存、快捷键等功能保持不变。